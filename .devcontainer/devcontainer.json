{
    "name": "nix-flake-dev",
    "build": { "dockerfile": "Dockerfile" },
	"runArgs": [
		"--memory=2g"															                          // https://github.com/kenmuse/devcontainer-bicep/blob/main/.devcontainer/devcontainer.json
	],
	"workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
    // upgradePackages before the rest of the features
	"overrideFeatureInstallOrder": [
		"ghcr.io/devcontainers/features/common-utils"
	],
    
    "onCreateCommand": "/usr/bin/bash ./.devcontainer/startup.sh > ~/startup.log",                   // https://github.com/devkimchi/devcontainers-dotnet/blob/main/.devcontainer/devcontainer.json

	"containerEnv": { "NODE_EXTRA_CA_CERTS": "/etc/ssl/certs/ca-certificates.crt" },					      // https://github.com/microsoft/vscode/issues/187716#issuecomment-1634361855

	"remoteUser": "vscode"
	// in case of repo WIP it will look like devcontainer manifest hadn't completed
    //"postCreateCommand": "nix flake check"
}
